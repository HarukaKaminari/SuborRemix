C51 COMPILER V9.52.0.0   STDIO                                                             03/27/2018 10:00:46 PAGE 1   


C51 COMPILER V9.52.0.0, COMPILATION OF MODULE STDIO
OBJECT MODULE PLACED IN STDIO.OBJ
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE STDIO.c LARGE OPTIMIZE(9,SPEED) BROWSE DEBUG OBJECTEXTEND

line level    source

   1          #include "STDIO.h"
   2          #include "SYSTEM.h"
   3          #include <CH559.h>
   4          
   5          
   6          void STDIO_Init() small{
   7   1              UINT32 x;
   8   1          UINT8 x2; 
   9   1      
  10   1          SM0 = 0;
  11   1          SM1 = 1;
  12   1          SM2 = 0;                                                                   //´®¿Ú0Ê¹ÓÃÄ£Ê½1
  13   1                                                                                     //Ê¹ÓÃTimer1×÷Îª²¨ÌØÂÊ·¢ÉúÆ
             -÷
  14   1          RCLK = 0;                                                                  //UART0½ÓÊÕÊ±ÖÓ
  15   1          TCLK = 0;                                                                  //UART0·¢ËÍÊ±ÖÓ
  16   1          PCON |= SMOD;
  17   1          x = 10 * FREQ_SYS / 57600 / 16;                                            //Èç¹û¸ü¸ÄÖ÷Æµ£¬×¢ÒâxµÄÖµ²»
             -ÒªÒç³ö                            
  18   1          x2 = x % 10;
  19   1          x /= 10;
  20   1          if ( x2 >= 5 ) x ++;                                                       //ËÄÉáÎåÈë
  21   1      
  22   1          TMOD = TMOD & ~ bT1_GATE & ~ bT1_CT & ~ MASK_T1_MOD | bT1_M1;              //0X20£¬Timer1×÷Îª8Î»×Ô¶¯ÖØ
             -ÔØ¶¨Ê±Æ÷
  23   1          T2MOD = T2MOD | bTMR_CLK | bT1_CLK;                                        //Timer1Ê±ÖÓÑ¡Ôñ
  24   1          TH1 = 0-x;                                                                 //12MHz¾§Õñ,buad/12ÎªÊµ¼ÊÐè
             -ÉèÖÃ²¨ÌØÂÊ
  25   1          TR1 = 1;                                                                   //Æô¶¯¶¨Ê±Æ÷1
  26   1          TI = 1;
  27   1          REN = 1;                                                                   //´®¿Ú0½ÓÊÕÊ¹ÄÜ
  28   1      }
  29          
  30          void STDIO_SetUART0ToP0() small{
  31   1              PORT_CFG |= bP0_OC;
  32   1          P0_DIR |= bTXD_;
  33   1          P0_PU |= bTXD_ | bRXD_;
  34   1          PIN_FUNC |= bUART0_PIN_X;   // ´®¿ÚÓ³Éäµ½P0.2ºÍP0.3
  35   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    130    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----       5
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
